metadata:
  displayName: Crowdin Downloader
  builtin: false
  icon: |
    <?xml version="1.0" encoding="UTF-8"?>
      <svg width="1311" height="1000" viewBox="0 0 1311 1000" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M1141.93 341.441C1103.04 336.668 1064.79 334.248 1028.11 334.338C909.044 334.633 705.566 372.342 705.566 530.61L743.564 537.99C743.056 544.849 743.056 551.738 743.564 558.596C743.564 571.277 743.564 583.429 743.564 594.525L705.566 591.835C715.646 734.692 799.377 774.167 878.231 776.28C915.954 776.28 951.485 772.238 986.272 756.203C987.46 755.644 988.423 754.677 988.996 753.467C989.569 752.257 989.717 750.879 989.415 749.568C989.112 748.258 988.378 747.097 987.338 746.283C986.298 745.469 985.016 745.054 983.712 745.107C911.002 755.674 836.601 696.647 836.601 571.426C836.601 412.919 962.718 352.008 1143.47 352.008C1147.57 352.536 1148.08 342.498 1141.93 341.441ZM745.885 622.447C766.044 622.447 782.992 622.447 806.362 622.447C811.307 664.962 828.347 714.404 858.774 743.522C830.41 739.923 804.086 726.439 784.16 705.301C764.234 684.164 748.587 651.803 745.885 622.447ZM813.202 488.853C813.202 494.137 809.106 503.647 807.057 513.158H782.992C770.119 512.557 757.294 511.145 744.588 508.931C744.771 507.705 744.771 506.458 744.588 505.232C760.462 420.166 841.876 384.766 920.731 369.972C895.349 380.257 872.519 396.272 853.913 416.842C835.308 437.412 821.397 462.016 813.202 488.853Z" fill="#263238"/>
      <path d="M1224.11 214.81C1064.64 168.52 393.117 112.399 393.117 500.154C415.723 503.466 431.423 508.547 443.515 510.203C441.905 539.726 443.515 572.075 443.515 602.04L383.037 591.836C383.037 816.326 540.973 887.059 665.572 887.059C686.144 886.962 706.689 885.487 727.082 882.643C778.406 876.758 828.189 860.644 873.762 835.167C874.756 834.434 875.506 833.39 875.904 832.185C876.302 830.979 876.328 829.673 875.979 828.451C875.63 827.228 874.923 826.153 873.959 825.376C872.995 824.6 871.822 824.162 870.607 824.125C765.461 846.207 621.41 816.397 621.41 555.83C621.41 209.143 1089.53 231.923 1225.69 226.403C1226.85 225.873 1227.82 224.956 1228.43 223.795C1229.05 222.634 1229.29 221.292 1229.11 219.975C1228.93 218.659 1228.35 217.44 1227.44 216.507C1226.54 215.574 1225.37 214.978 1224.11 214.81ZM666.097 857.801C605.625 861.831 546.022 841.067 499.836 799.88C453.65 758.693 424.483 700.295 418.478 636.981C458.433 642.501 509.429 646.918 552.014 649.126C554.128 692.726 567.148 734.97 589.76 771.605C612.373 808.239 643.78 837.969 680.818 857.801H666.097ZM568.311 438.795C565.157 450.94 560.425 472.47 556.219 491.24L493.132 484.615L429.518 476.335C429.518 273.609 745.902 204.081 866.857 204.081C702.829 244.381 595.124 327.281 568.311 437.139V438.795Z" fill="#263238"/>
      <path d="M1306.16 100.138C1111.85 31.2656 891.409 -2.58003 685.411 0.154456C387.604 0.154456 10.0796 91.9912 0 408.318L80.6366 428.726C70.557 469.542 70.557 551.175 70.557 551.175C70.557 551.175 24.5834 537.081 0 530.767C0 904.919 211.415 999.997 414.882 999.997C497.053 1000.25 578.584 985.452 655.485 956.319C656.698 955.763 657.682 954.8 658.267 953.594C658.853 952.389 659.004 951.017 658.695 949.712C658.386 948.407 657.637 947.25 656.574 946.44C655.511 945.629 654.202 945.215 652.87 945.268C589.581 945.268 539.368 966.318 438.942 892.645C243.844 751.088 267.905 382.725 491.247 222.224C721.389 52.7767 1218.81 105.4 1304.07 110.662C1304.75 110.801 1305.46 110.801 1306.15 110.665C1306.84 110.528 1307.49 110.256 1308.07 109.865C1308.66 109.474 1309.16 108.972 1309.55 108.386C1309.94 107.801 1310.21 107.144 1310.34 106.453C1310.48 105.761 1310.48 105.05 1310.35 104.359C1310.21 103.667 1309.94 103.01 1309.55 102.423C1309.16 101.837 1308.66 101.333 1308.08 100.941C1307.5 100.549 1306.85 100.276 1306.16 100.138ZM416.974 968.423C175.325 968.423 51.8254 832.595 40.3183 571.583C105.938 588.706 167.825 605.802 234.952 615.32C230.908 717.61 265.902 817.583 332.763 894.75C366.953 929.133 408.966 954.603 455.157 968.949L416.974 968.423ZM964.608 59.6178C670.115 59.6178 328.945 96.5835 262.069 428.726C262.069 428.726 80.6366 398.114 40.3183 387.91C90.7162 -30.4578 786.207 1.108 1068.44 59.6178H964.608Z" fill="#263238"/>
      </svg>
  description: |
    Crowdin integation in the cloud native task
  helpUrl: null
  version: v1.0.5
  example: ''
  labels:
    - pipe
    - Test
  public: true
  organization: null
  name: CrowdinDownloader
  parserJobType: null
  developer: giteeru-team
  latest: false
dynamicRender: true
environments: null
kind: Kubernetes
companyUuid: itone
version: v1.0.0
cacheDefault: null
spec:
  name: crowdin-downloader
  image: giteeru/crowdin-cli:1.0.0
  resources:
    limits:
      cpu: 200m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi
  endpoint: >

    mkdir -p /tmp/.ssh && chmod 0700 /tmp/.ssh && echo ${GITEE_GIT_SSHKEY} |
    base64 -d > /tmp/.ssh/id_rsa && chmod 0400 /tmp/.ssh/id_rsa

    crowdin pull

    git config --global user.email ${GITEE_GIT_COMMITER}

    git add -A && git commit -m $(date '+%d%m%Y-%H%M%S')

    env GIT_SSH_COMMAND='ssh -i /tmp/.ssh/id_rsa -o IdentitiesOnly=yes -o
    StrictHostKeyChecking=no' git push
result: null
arguments:
  - depend: null
    hidden: false
    defaultValue: ''
    certificate: null
    description: Gitee Git user SSH private key
    rules: ^.+$
    label: Gitee Git user SSH private key
    remote: null
    type: input
    toolbar:
      addButton: false
    showCondition: null
    children: null
    hint: null
    dateSource: null
    name: GITEE_GIT_SSHKEY
    alias: GITEE_GIT_SSHKEY
    must: true
    style:
      width: '1'
    table:
      showHeader: true
      showSerialNumber: true
  - depend: null
    hidden: false
    defaultValue: ''
    certificate: null
    description: Gitee Git Commiter email
    rules: ^.{1,32}$
    label: Gitee Git Commiter email
    remote: null
    type: input
    toolbar:
      addButton: false
    showCondition: null
    children: null
    hint: null
    dateSource: null
    name: GITEE_GIT_COMMITER
    alias: GITEE_GIT_COMMITER
    must: true
    style:
      width: '1'
    table:
      showHeader: true
      showSerialNumber: true
cacheSwitch: false
